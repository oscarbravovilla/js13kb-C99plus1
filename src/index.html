<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
</head>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        var save = document.getElementById("save");
        var reset = document.getElementById("reset");
        //
        var level = localStorage.getItem("box_99_level");

        if (level !== null && level !== "1") {
            save.classList.remove("dn");
            reset.classList.remove("dn");
            save.innerHTML = "saved LEVEL " + level;
        }
        window.resetLevel = () => {
            localStorage.setItem("box_99_level", "1");
            save.classList.add("dn");
            reset.classList.add("dn");
        }
    });

</script>

<body>
    <a-scene
        vr-mode-ui="enterVRButton: #bvr"
        >
        <div id="mainUI">
            <div class="main">
                <div class="content">
                    <h1>B0X99+1</h1>
                    <p class="fs-16 history">
                        Escaping from the city dome has been your life goal. You and many others started the long path, many of them have fallen and perished along the way. You stand alone now but close to end. The 99+1 boxes Well plus the 7 levels remaining are the last obstacle before freedom. Find your way out from one level to the next, through boxes that never disappear.
                    </p>
                    <div class="gamebutton">
                        <div class="p-10">
                            <p class="fs-10 r"> Tested in META QUEST 2 </p>
                            <button id="bvr" class="w p-10 fs-20 bt">VR</button>
                            <p class="fs-10">
                                Use thumbstick controls for translate<br>
                                A || B buttons for rotating 30ยบ <br>   
                                Playing standing up and facing the stage
                            </p>
                        </div>
                        <div class="p-10">
                            <p class="fs-10 r">Play in your computer</p>
                            <button id="bdk" class="w p-10 fs-20 bt">Desktop</button>
                            <p class="fs-10">move - AWSD keys<br> 
                                rotate camera - mouse left+click</p>
                        </div>
                    </div>
                    <div>
                       <p>
                        How to play: Move up levels by reaching the cube that is in front of you. You will have to move through cycles 1 never falls, always remember to have the box on top of it.
                        <p>
                        <div class="flex settings">
                            <input id="nochall" type="radio" name="diffi"/>
                            <label for="nochall" class="p-10">VERY EASY</label>
                            <input id="chall" type="radio" name="diffi" checked="true">
                            <label for="chall" class="p-10">HARD</label>
                            <input id="music" type="checkbox" checked="true"/>
                            <label for="music" class="p-10">music</label>
                            <input id="fx" type="checkbox" checked="true"/>
                            <label for="fx" class="p-10">FX sounds</label>
                        </div>

                        <p id="save" class="dn"></p>
                        <button id="reset" onclick="resetLevel()" class="dn p-10">Reset</button>
                    </div>
                </div>
                <p class="credit fs-10">code - oscar bravo villacorta | shaders - shaderfrog.com | music - deconstructive remix from original
                    SWAY by
                    bits'n'bites | thanks to andrew</p>
            </div>
        </div>


        <a-entity id="rig" wasd-controls="acceleration:15" look-controls>
            <a-entity camera id="camera">
                <a-entity id="log" text="side:double" position="0 0 -1" scale="1.3 1.3 1.3"></a-entity>
                <a-entity id="fade" geometry="primitive: plane" scale="3 3 3"
                    material="shader: flat; color: #393939;opacity: 0; transparent: true" position="0 0 -0.2"></a-entity>
            </a-entity>
            <a-entity oculus-touch-controls="hand: right"></a-entity>
            <a-entity oculus-touch-controls="hand: left"></a-entity>
        </a-entity>
        <a-entity id="collisionRay" position="0 0 0"
            raycaster="direction: 0 -1 0;far: 4;objects: .boxCollider,.initCube, .endCube;">
            <a-ring color="#393939" position="0 -.95 0" rotation="-90 0 0" scale="0.05 0.05 0.05" width="120"></a-ring>
        </a-entity>
        <a-sky id="sky" color="#2f2f2f"></a-sky>
        <a-entity id="mensaje" text="side:double" position="0 2 6" rotation="0 180 0" scale="5 5 5"></a-entity>
    </a-scene>
    
</body>

</html>